{include file="moban/css"}

{include file="moban/js"}

<div class="layui-form" lay-filter="layuiadmin-app-form-list" id="layuiadmin-app-form-list" style="padding: 20px 30px 0 0;">
    <div class="layui-form-item">
        <label class="layui-form-label">用户组名称</label>
        <div class="layui-input-block">
            <input type="text" name="group_name" required  lay-verify="required" placeholder="请输入用户组名称" autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <div id="test12" class="demo-tree-more"></div>
    </div>

    <div class="layui-form-item layui-hide">
        <input type="button" lay-submit lay-filter="submit" id="submit" value="确认">
        <input type="button" lay-submit lay-filter="layuiadmin-app-form-edit" id="layuiadmin-app-form-edit" value="取消">
    </div>
</div>


<script>
//Demo
layui.use(['form','tree','util'], function(){
    var form = layui.form,
        tree = layui.tree,
        util = layui.util,
        _data = data = [{
            title: '一级1'
            ,id: 1
            ,field: 'name1'
            ,checked: true
            ,spread: true
            ,children: [{
                title: '二级1-1 可允许跳转'
                ,id: 3
                ,field: 'name11'
                ,href: 'https://www.layuion.com/'
                ,children: [{
                    title: '三级1-1-3'
                    ,id: 23
                    ,field: ''
                    ,children: [{
                        title: '四级1-1-3-1'
                        ,id: 24
                        ,field: ''
                        ,children: [{
                            title: '五级1-1-3-1-1'
                            ,id: 30
                            ,field: ''
                        },{
                            title: '五级1-1-3-1-2'
                            ,id: 31
                            ,field: ''
                        }]
                    }]
                },{
                    title: '三级1-1-1'
                    ,id: 7
                    ,field: ''
                    ,children: [{
                        title: '四级1-1-1-1 可允许跳转'
                        ,id: 15
                        ,field: ''
                        ,href: 'https://www.layuion.com/doc/'
                    }]
                },{
                    title: '三级1-1-2'
                    ,id: 8
                    ,field: ''
                    ,children: [{
                        title: '四级1-1-2-1'
                        ,id: 32
                        ,field: ''
                    }]
                }]
            },{
                title: '二级1-2'
                ,id: 4
                ,spread: true
                ,children: [{
                    title: '三级1-2-1'
                    ,id: 9
                    ,field: ''
                    ,disabled: true
                },{
                    title: '三级1-2-2'
                    ,id: 10
                    ,field: ''
                }]
            },{
                title: '二级1-3'
                ,id: 20
                ,field: ''
                ,children: [{
                    title: '三级1-3-1'
                    ,id: 21
                    ,field: ''
                },{
                    title: '三级1-3-2'
                    ,id: 22
                    ,field: ''
                }]
            }]
        },{
            title: '一级2'
            ,id: 2
            ,field: ''
            ,spread: true
            ,children: [{
                title: '二级2-1'
                ,id: 5
                ,field: ''
                ,spread: true
                ,children: [{
                    title: '三级2-1-1'
                    ,id: 11
                    ,field: ''
                },{
                    title: '三级2-1-2'
                    ,id: 12
                    ,field: ''
                }]
            },{
                title: '二级2-2'
                ,id: 6
                ,field: ''
                ,children: [{
                    title: '三级2-2-1'
                    ,id: 13
                    ,field: ''
                },{
                    title: '三级2-2-2'
                    ,id: 14
                    ,field: ''
                    ,disabled: true
                }]
            }]
        },{
            title: '一级3'
            ,id: 16
            ,field: ''
            ,children: [{
                title: '二级3-1'
                ,id: 17
                ,field: ''
                ,fixed: true
                ,children: [{
                    title: '三级3-1-1'
                    ,id: 18
                    ,field: ''
                },{
                    title: '三级3-1-2'
                    ,id: 19
                    ,field: ''
                }]
            },{
                title: '二级3-2'
                ,id: 27
                ,field: ''
                ,children: [{
                    title: '三级3-2-1'
                    ,id: 28
                    ,field: ''
                },{
                    title: '三级3-2-2'
                    ,id: 29
                    ,field: ''
                }]
            }]
        }];

    tree.render({
        elem: '#test12'
        ,data: data
        ,showCheckbox: true  //是否显示复选框
        ,id: 'demoId1'
        ,isJump: true //是否允许点击节点时弹出新窗口跳转
        ,click: function(obj){
            var data = obj.data;  //获取当前点击的节点数据
            layer.msg('状态：'+ obj.state + '<br>节点数据：' + JSON.stringify(data));
        }
    });

    //监听提交
    form.on('submit(submit)', function(data){
        // layer.msg(JSON.stringify(data.field));
        Api.add(data.field,function(res){
            console.log(res);
        });
    });
});
</script>